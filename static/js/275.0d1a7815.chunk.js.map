{"version":3,"file":"static/js/275.0d1a7815.chunk.js","mappings":"yGA0CIA,E,WAnCEC,EAAoB,aAMpBC,EAASC,EAAAA,EAAAA,OAAS,CAIpBC,QAASD,EAAAA,EAAAA,SAAWE,IAAI,GACnBC,WAAU,SAAAC,GAAO,oBAAWA,EAAO,IACnCC,QAAQ,KAIbC,UAAWN,EAAAA,EAAAA,SAAWE,IAAI,GAAGG,QAAQ,KAIrCE,gBAAiBP,EAAAA,EAAAA,SAAWE,IAAI,GAAGG,QAAQ,OAKzCG,EAAc,CAAC,EACfC,EAAMC,CAAAA,SAAAA,aAAAA,WAAAA,SAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,EAAAA,0BAAAA,UAAAA,oBAAAA,2CAAAA,kBAAAA,KACZ,IAAK,IAAIC,KAAUF,EAAK,CACpB,GAAIE,EAAOC,WAAWd,GAElBU,EADkBG,EAAOE,UAAUf,EAAkBgB,SACjCJ,CAAAA,SAAAA,aAAAA,WAAAA,SAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,EAAAA,0BAAAA,UAAAA,oBAAAA,2CAAAA,kBAAAA,KAAYC,EAExC,CAIA,IACId,EAAgBE,EAAOgB,MAAMP,EAMjC,CALE,MAAOQ,GACL,GAAIA,aAAaC,MACb,MAAM,IAAIA,MAAM,qBAAuBD,EAAEE,SAE7C,MAAM,IAAID,MAAM,qBAAuBD,EAC3C,CAEA,IAAMG,EAAYtB,EAClB,W","sources":["env.config.ts"],"sourcesContent":["/**\n * 使用 create-react-app 环境变量能力对 App 配置项的封装\n * 环境变量能力详见: https://create-react-app.dev/docs/adding-custom-environment-variables\n */\nimport {z} from \"zod\";\n\n// create-react-app 中 App 使用的环境变量需以 REACT_APP_ 开头\nconst CONFIG_ENV_PREFIX = \"REACT_APP_\";\n\n/*\n配置项及规则，使用zod声明配置的类型\n例如：BACKEND_BASE_URL: z.string().url()\n */\nconst schema = z.object({\n    /**\n     * 应用版本号\n     */\n    VERSION: z.string().min(1)\n        .transform(version => `0.0.${version}`)\n        .default(\"-\"),\n    /**\n     * 应用提交id\n     */\n    COMMIT_ID: z.string().min(1).default(\"-\"),\n    /**\n     * 应用提交id-short\n     */\n    COMMIT_ID_SHORT: z.string().min(1).default(\"-\"),\n});\ntype EnvConfigSchema = z.infer<typeof schema>;\n\n// 读取配置项\nconst config: any = {};\nconst env = process.env;\nfor (let envKey in env) {\n    if (envKey.startsWith(CONFIG_ENV_PREFIX)) {\n        const configKey = envKey.substring(CONFIG_ENV_PREFIX.length);\n        config[configKey] = process.env[envKey];\n    }\n}\n\n// 校验配置项有效性\nlet checkedConfig;\ntry {\n    checkedConfig = schema.parse(config);\n} catch (e) {\n    if (e instanceof Error) {\n        throw new Error(\"APP CONFIG ERROR: \" + e.message);\n    }\n    throw new Error(\"APP CONFIG ERROR: \" + e);\n}\n\nconst EnvConfig = checkedConfig as EnvConfigSchema;\nexport default EnvConfig;"],"names":["checkedConfig","CONFIG_ENV_PREFIX","schema","z","VERSION","min","transform","version","default","COMMIT_ID","COMMIT_ID_SHORT","config","env","process","envKey","startsWith","substring","length","parse","e","Error","message","EnvConfig"],"sourceRoot":""}